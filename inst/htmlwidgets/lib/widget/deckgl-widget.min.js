!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return createDeckGLProperties})),__webpack_require__.d(__webpack_exports__,"d",(function(){return logVersions})),__webpack_require__.d(__webpack_exports__,"c",(function(){return fixLayerProperties})),__webpack_require__.d(__webpack_exports__,"a",(function(){return convertColor}));var d3_color__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11);function createDeckGLProperties(e){return Object.assign({mapboxApiAccessToken:e.mapboxApiAccessToken||"",mapStyle:e.mapStyle||"",container:e.container,initialViewState:e.initialViewState||createInitialViewState(e),views:e.views||new deck.MapView,controller:!0,layers:[]},e.properties)}function createInitialViewState(e){return{longitude:e.longitude,latitude:e.latitude,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing}}function logVersions(){console.log("deck.gl",deck.version),"undefined"!=typeof mapboxgl&&console.log("mapbox-gl",mapboxgl.version)}function fixLayerProperties(layers){for(let i=0;i<layers.length;i++){const properties=layers[i].properties;for(let key of Object.keys(properties))if("string"==typeof properties[key])try{properties[key]=eval(properties[key])}catch(e){}}}function convertColor(e){const t=Object(d3_color__WEBPACK_IMPORTED_MODULE_0__.a)(e);return[t.r,t.g,t.b,255*t.opacity]}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));const r=["top-left","top-right","bottom-right","bottom-left"];function i(e){r.forEach(t=>{const n=document.createElement("div");n.classList.add("deckgl-widget-ctrl-group",`deckgl-widget-ctrl-${t}`),e.appendChild(n)})}function o(e,t,n){const r=document.createElement("div");return r.classList.add("deckgl-widget-ctrl"),n&&(r.style.cssText=n),r.innerHTML=e,document.getElementsByClassName(`deckgl-widget-ctrl-${t}`)[0].appendChild(r),r}},function(e,t,n){"use strict";(function(e){n(7);var r=n(1),i=n(0),o=n(4);e._deckWidget||(e._deckWidget={convertColor:i.a});const a={addControl:r.a};t.a=function(e,t,n){let s=null;const c=_deckWidget[e.id]={};function l(t){const n=t.map(t=>(t.properties.dataframeToD3&&(t.data=HTMLWidgets.dataframeToD3(t.data)),t.properties.data=t.data,Object(o.a)(t.className,t.properties,e)));s.setProps({layers:n})}return HTMLWidgets.shinyMode&&Shiny.addCustomMessageHandler("proxythis",(function(e){const t=e.x;Object(i.c)(t.layers),console.log(t),l(t.layers)})),{renderValue:function(t){t.container=e.id;const n=t.calls||[];console.log(t),Object(i.d)();const o=Object(i.b)(t);s=c.deckGL=new deck.DeckGL(o),Object(r.b)(e),l(t.layers),n.forEach(({funcName:e,args:t})=>a[e].apply(null,t))},resize:function(e,t){}}}}).call(this,n(6))},function(e,t,n){e.exports=function(){"use strict";
/*!
   * mustache.js - Logic-less {{mustache}} templates with JavaScript
   * http://github.com/janl/mustache.js
   */var e=Object.prototype.toString,t=Array.isArray||function(t){return"[object Array]"===e.call(t)};function n(e){return"function"==typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,t){return null!=e&&"object"==typeof e&&t in e}var o=RegExp.prototype.test,a=/\S/;function s(e){return!function(e,t){return o.call(e,t)}(a,e)}var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},l=/\s*/,u=/\s+/,p=/\s*=/,d=/\s*\}/,h=/#|\^|\/|>|\{|&|=|!/;function f(e){this.string=e,this.tail=e,this.pos=0}function g(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function y(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}f.prototype.eos=function(){return""===this.tail},f.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},f.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},g.prototype.push=function(e){return new g(e,this)},g.prototype.lookup=function(e){var t,r,o,a=this.cache;if(a.hasOwnProperty(e))t=a[e];else{for(var s,c,l,u=this,p=!1;u;){if(e.indexOf(".")>0)for(s=u.view,c=e.split("."),l=0;null!=s&&l<c.length;)l===c.length-1&&(p=i(s,c[l])||(r=s,o=c[l],null!=r&&"object"!=typeof r&&r.hasOwnProperty&&r.hasOwnProperty(o))),s=s[c[l++]];else s=u.view[e],p=i(u.view,e);if(p){t=s;break}u=u.parent}a[e]=t}return n(t)&&(t=t.call(this.view)),t},y.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},y.prototype.parse=function(e,n){var i=this.templateCache,o=e+":"+(n||b.tags).join(":"),a=void 0!==i,c=a?i.get(o):void 0;return null==c&&(c=function(e,n){if(!e)return[];var i,o,a,c=!1,g=[],y=[],m=[],w=!1,v=!1,k="",x=0;function _(){if(w&&!v)for(;m.length;)delete y[m.pop()];else m=[];w=!1,v=!1}function M(e){if("string"==typeof e&&(e=e.split(u,2)),!t(e)||2!==e.length)throw new Error("Invalid tags: "+e);i=new RegExp(r(e[0])+"\\s*"),o=new RegExp("\\s*"+r(e[1])),a=new RegExp("\\s*"+r("}"+e[1]))}M(n||b.tags);for(var j,C,N,E,T,O,S=new f(e);!S.eos();){if(j=S.pos,N=S.scanUntil(i))for(var L=0,P=N.length;L<P;++L)s(E=N.charAt(L))?(m.push(y.length),k+=E):(v=!0,c=!0,k+=" "),y.push(["text",E,j,j+1]),j+=1,"\n"===E&&(_(),k="",x=0,c=!1);if(!S.scan(i))break;if(w=!0,C=S.scan(h)||"name",S.scan(l),"="===C?(N=S.scanUntil(p),S.scan(p),S.scanUntil(o)):"{"===C?(N=S.scanUntil(a),S.scan(d),S.scanUntil(o),C="&"):N=S.scanUntil(o),!S.scan(o))throw new Error("Unclosed tag at "+S.pos);if(T=">"==C?[C,N,j,S.pos,k,x,c]:[C,N,j,S.pos],x++,y.push(T),"#"===C||"^"===C)g.push(T);else if("/"===C){if(!(O=g.pop()))throw new Error('Unopened section "'+N+'" at '+j);if(O[1]!==N)throw new Error('Unclosed section "'+O[1]+'" at '+j)}else"name"===C||"{"===C||"&"===C?v=!0:"="===C&&M(N)}if(_(),O=g.pop())throw new Error('Unclosed section "'+O[1]+'" at '+S.pos);return function(e){for(var t,n=[],r=n,i=[],o=0,a=e.length;o<a;++o)switch((t=e[o])[0]){case"#":case"^":r.push(t),i.push(t),r=t[4]=[];break;case"/":i.pop()[5]=t[2],r=i.length>0?i[i.length-1][4]:n;break;default:r.push(t)}return n}(function(e){for(var t,n,r=[],i=0,o=e.length;i<o;++i)(t=e[i])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}(y))}(e,n),a&&i.set(o,c)),c},y.prototype.render=function(e,t,n,r){var i=this.parse(e,r),o=t instanceof g?t:new g(t,void 0);return this.renderTokens(i,o,n,e,r)},y.prototype.renderTokens=function(e,t,n,r,i){for(var o,a,s,c="",l=0,u=e.length;l<u;++l)s=void 0,"#"===(a=(o=e[l])[0])?s=this.renderSection(o,t,n,r):"^"===a?s=this.renderInverted(o,t,n,r):">"===a?s=this.renderPartial(o,t,n,i):"&"===a?s=this.unescapedValue(o,t):"name"===a?s=this.escapedValue(o,t):"text"===a&&(s=this.rawValue(o)),void 0!==s&&(c+=s);return c},y.prototype.renderSection=function(e,r,i,o){var a=this,s="",c=r.lookup(e[1]);if(c){if(t(c))for(var l=0,u=c.length;l<u;++l)s+=this.renderTokens(e[4],r.push(c[l]),i,o);else if("object"==typeof c||"string"==typeof c||"number"==typeof c)s+=this.renderTokens(e[4],r.push(c),i,o);else if(n(c)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(c=c.call(r.view,o.slice(e[3],e[5]),(function(e){return a.render(e,r,i)})))&&(s+=c)}else s+=this.renderTokens(e[4],r,i,o);return s}},y.prototype.renderInverted=function(e,n,r,i){var o=n.lookup(e[1]);if(!o||t(o)&&0===o.length)return this.renderTokens(e[4],n,r,i)},y.prototype.indentPartial=function(e,t,n){for(var r=t.replace(/[^ \t]/g,""),i=e.split("\n"),o=0;o<i.length;o++)i[o].length&&(o>0||!n)&&(i[o]=r+i[o]);return i.join("\n")},y.prototype.renderPartial=function(e,t,r,i){if(r){var o=n(r)?r(e[1]):r[e[1]];if(null!=o){var a=e[6],s=e[5],c=e[4],l=o;return 0==s&&c&&(l=this.indentPartial(o,c,a)),this.renderTokens(this.parse(l,i),t,r,l,i)}}},y.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},y.prototype.escapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return b.escape(n)},y.prototype.rawValue=function(e){return e[1]};var b={name:"mustache.js",version:"4.0.1",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){m.templateCache=e},get templateCache(){return m.templateCache}},m=new y;return b.clearCache=function(){return m.clearCache()},b.parse=function(e,t){return m.parse(e,t)},b.render=function(e,n,r,i){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(t(o=e)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)');var o;return m.render(e,n,r,i)},b.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return c[e]}))},b.Scanner=f,b.Context=g,b.Writer=y,b}()},function(e,t,n){"use strict";var r=n(3);t.a=function(e,t,n){HTMLWidgets.shinyMode&&(t.onClick=function(e){const t={lng:e.lngLat[0],lat:e.lngLat[1],object:e.object};Shiny.onInputChange(n.id+"_onclick",t)});const i=t.tooltip||t.getTooltip;if(i){const e=function(e){const t=document.createElement("div");return t.classList.add("deckgl-widget-tooltip"),e.appendChild(t),t}(n);i.style&&(e.style.cssText=i.style),t.onHover=function({x:t,y:n,object:o}){o?(e.style.top=n+"px",e.style.left=t+"px",e.innerHTML="function"==typeof i?i(o):Object(r.render)("string"==typeof i?i:i.html,o),e.style.display="block"):e.style.display="none"}}return new deck[e](t)}},function(e,t,n){"use strict";n.r(t);var r=n(2);HTMLWidgets.widget({name:"deckgl",type:"output",factory:r.a})},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(8),i=n(9);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});e.exports=a},function(e,t,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},r=[],i=0;i<e.length;i++){var o=e[i],c=t.base?o[0]+t.base:o[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var p=s(u),d={css:o[1],media:o[2],sourceMap:o[3]};-1!==p?(a[p].references++,a[p].updater(d)):a.push({identifier:u,updater:y(d,t),references:1}),r.push(u)}return r}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var u,p=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function d(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=p(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function h(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var f=null,g=0;function y(e,t){var n,r,i;if(t.singleton){var o=g++;n=f||(f=l(t)),r=d.bind(null,n,o,!1),i=d.bind(null,n,o,!0)}else n=l(t),r=h.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=s(n[r]);a[i].references--}for(var o=c(e,t),l=0;l<n.length;l++){var u=s(n[l]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}n=o}}}},function(e,t,n){(t=n(10)(!1)).push([e.i,'.deck-tooltip, .deckgl-widget-ctrl, .deckgl-widget-tooltip {\n  font: 12px/20px "Helvetica Neue", Arial, sans-serif;\n}\n\n.deckgl-widget-tooltip {\n  padding: 5px;\n  /* border-radius: 5px; */\n  background: rgba(0, 0, 0, 0.8);\n  color: #fff;\n  max-width: 300px;\n  display: none;\n}\n\n.deckgl-widget-ctrl-group, .deckgl-widget-tooltip {\n  position: absolute;\n  pointer-events: none;\n  z-index: 2;\n}\n\n.deckgl-widget-ctrl {\n  background: #FFFFFF;\n  padding: 10px;\n}\n\n.deckgl-widget-ctrl-top-left { top: 10px; left: 10px; }\n.deckgl-widget-ctrl-top-right { top: 10px; right: 10px; }\n.deckgl-widget-ctrl-bottom-left { bottom: 10px; left: 10px; }\n.deckgl-widget-ctrl-bottom-right { bottom: 10px; right: 10px; }\n',""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),o=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(o).concat([i]).join("\n")}var a,s,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function i(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function o(){}var a="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l=/^#([0-9a-f]{3,8})$/,u=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),p=new RegExp("^rgb\\("+[c,c,c]+"\\)$"),d=new RegExp("^rgba\\("+[a,a,a,s]+"\\)$"),h=new RegExp("^rgba\\("+[c,c,c,s]+"\\)$"),f=new RegExp("^hsl\\("+[s,c,c]+"\\)$"),g=new RegExp("^hsla\\("+[s,c,c,s]+"\\)$"),y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function b(){return this.rgb().formatHex()}function m(){return this.rgb().formatRgb()}function w(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=l.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?v(t):3===n?new _(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?new _(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?new _(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=u.exec(e))?new _(t[1],t[2],t[3],1):(t=p.exec(e))?new _(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=d.exec(e))?k(t[1],t[2],t[3],t[4]):(t=h.exec(e))?k(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=f.exec(e))?N(t[1],t[2]/100,t[3]/100,1):(t=g.exec(e))?N(t[1],t[2]/100,t[3]/100,t[4]):y.hasOwnProperty(e)?v(y[e]):"transparent"===e?new _(NaN,NaN,NaN,0):null}function v(e){return new _(e>>16&255,e>>8&255,255&e,1)}function k(e,t,n,r){return r<=0&&(e=t=n=NaN),new _(e,t,n,r)}function x(e){return e instanceof o||(e=w(e)),e?new _((e=e.rgb()).r,e.g,e.b,e.opacity):new _}function _(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function M(){return"#"+C(this.r)+C(this.g)+C(this.b)}function j(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function C(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function N(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new T(e,t,n,r)}function E(e){if(e instanceof T)return new T(e.h,e.s,e.l,e.opacity);if(e instanceof o||(e=w(e)),!e)return new T;if(e instanceof T)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,c=a-i,l=(a+i)/2;return c?(s=t===a?(n-r)/c+6*(n<r):n===a?(r-t)/c+2:(t-n)/c+4,c/=l<.5?a+i:2-a-i,s*=60):c=l>0&&l<1?0:s,new T(s,c,l,e.opacity)}function T(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function O(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}r(o,w,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:b,formatHex:b,formatHsl:function(){return E(this).formatHsl()},formatRgb:m,toString:m}),r(_,(function(e,t,n,r){return 1===arguments.length?x(e):new _(e,t,n,null==r?1:r)}),i(o,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new _(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new _(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:M,formatHex:M,formatRgb:j,toString:j})),r(T,(function(e,t,n,r){return 1===arguments.length?E(e):new T(e,t,n,null==r?1:r)}),i(o,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new T(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new T(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new _(O(e>=240?e-240:e+120,i,r),O(e,i,r),O(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}))}]);